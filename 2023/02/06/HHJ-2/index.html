<!DOCTYPE html>
<html lang=ko>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="들어가며안녕하세요. rasauq1122입니다.오늘까지 가족 여행을 마치고 돌아왔습니다. 재미는 있는데 내향형인 저에게는 꽤나 힘든 일정이었습니다. 원래 늦게 도착할 줄 알았는데, 생각보다 집에 빨리 오게 되어서 오버워치2 배틀패스 200레벨 찍고 개발을 진행하게 되었습니다! 후딱 끝내고 발로란트를 하려고 했는데 생각보다 과정이 만만치 않았습니다… 오늘은…역">
<meta property="og:type" content="article">
<meta property="og:title" content="프로젝트 &#39;홍합찜&#39; - 2">
<meta property="og:url" content="http://rasauq1122.github.io/2023/02/06/HHJ-2/index.html">
<meta property="og:site_name" content="rasauq1122&#39;s Archive">
<meta property="og:description" content="들어가며안녕하세요. rasauq1122입니다.오늘까지 가족 여행을 마치고 돌아왔습니다. 재미는 있는데 내향형인 저에게는 꽤나 힘든 일정이었습니다. 원래 늦게 도착할 줄 알았는데, 생각보다 집에 빨리 오게 되어서 오버워치2 배틀패스 200레벨 찍고 개발을 진행하게 되었습니다! 후딱 끝내고 발로란트를 하려고 했는데 생각보다 과정이 만만치 않았습니다… 오늘은…역">
<meta property="og:locale" content="ko_KR">
<meta property="article:published_time" content="2023-02-05T16:57:25.000Z">
<meta property="article:modified_time" content="2023-02-25T01:50:29.168Z">
<meta property="article:author" content="Junseong Park">
<meta property="article:tag" content="project">
<meta property="article:tag" content="development">
<meta property="article:tag" content="hhj">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>프로젝트 &#39;홍합찜&#39; - 2</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/atom.xml" title="rasauq1122&#39;s Archive" type="application/atom+xml" />
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/rasauq1122">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2023/02/10/HHJ-3/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2023/02/04/HHJ-1/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://rasauq1122.github.io/2023/02/06/HHJ-2/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&text=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&is_video=false&description=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=프로젝트 &#39;홍합찜&#39; - 2&body=Check out this article: http://rasauq1122.github.io/2023/02/06/HHJ-2/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&name=프로젝트 &#39;홍합찜&#39; - 2&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://rasauq1122.github.io/2023/02/06/HHJ-2/&t=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0"><span class="toc-number">1.</span> <span class="toc-text">들어가며</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%98%A4%EB%8A%98%EC%9D%80%E2%80%A6"><span class="toc-number">2.</span> <span class="toc-text">오늘은…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%8B%A4%EC%9D%8C%EC%9D%80%E2%80%A6"><span class="toc-number">3.</span> <span class="toc-text">다음은…</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        프로젝트 &#39;홍합찜&#39; - 2
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Junseong Park</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-02-05T16:57:25.000Z" itemprop="datePublished">2023-02-06</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/development/">development</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/development/" rel="tag">development</a>, <a class="tag-link-link" href="/tags/hhj/" rel="tag">hhj</a>, <a class="tag-link-link" href="/tags/project/" rel="tag">project</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="들어가며"><a href="#들어가며" class="headerlink" title="들어가며"></a>들어가며</h2><p>안녕하세요. rasauq1122입니다.<br>오늘까지 가족 여행을 마치고 돌아왔습니다. 재미는 있는데 내향형인 저에게는 꽤나 힘든 일정이었습니다.</p>
<p>원래 늦게 도착할 줄 알았는데, 생각보다 집에 빨리 오게 되어서 오버워치2 배틀패스 200레벨 찍고 개발을 진행하게 되었습니다! 후딱 끝내고 발로란트를 하려고 했는데 생각보다 과정이 만만치 않았습니다…</p>
<h2 id="오늘은…"><a href="#오늘은…" class="headerlink" title="오늘은…"></a>오늘은…</h2><p>역시 저번에 예고한대로 VoiceStateUpdate에 따른 데이터 추출을 하려고 진행하였습니다. 그렇지만 세상은 늘 계획대로 되지 않는 법이더라구요. 제가 아주 중요한 걸 깜빡하고 있었습니다. 바로 제가 <strong>사전에 동의한 사람</strong>의 데이터만 추출하겠다고 한 것이었죠!</p>
<p>그래서 사전에 동의한 사람을 구분할 방법이 필요했습니다. 다행히도 Discord 서버에는 그런 구분을 쉽게 해주는 도구가 존재했죠. 바로 역할입니다. 역할을 새로 만들어서 그 역할을 갖고 있는 사람에 대한 데이터만 추출하도록 하면 제가 원하는 대로 할 수 있어 보입니다.</p>
<p>그리하여 서버에 디스코드 봇이 처음 입장하게 되면 ‘피실험체’라는 역할을 하나 만들어 두기로 하였습니다. 그리고 봇이 꺼진 동안 그 역할이 사라지게 되면 추후 봇이 다시 작동할 때 역할을 다시 만들어 주도록 구현하였습니다. 근데 지금 생각해보니까 봇이 켜져 있는 동안 역할이 삭제되는 경우에 대해서는 예외 처리를 안해놨네요… 추후 할 일에 적어놓아야겠습니다.</p>
<p>그러고나서는 그 역할을 스스로 받을 수 있도록 명령어를 만들자고 생각했습니다. 자세한 건 <a target="_blank" rel="noopener" href="https://discordjs.guide/creating-your-bot/command-handling.html">discord.js 공식 사이트</a>를 참고했습니다. 근데 제 생각에는 명령어만 만들어 놓으면 봇에서 명령어를 사용할 수 있을 것 같았습니다. 근데 그것이 아니라 따로 배포까지 해놔야 디스코드 서버에서 명령어를 사용할 수 있다고 합니다. 구현이 왜 이렇게 되어있는지는 살짝 의아하지만 무언가 기술적인 문제가 있지 않았나 싶습니다… 그것 때문에 시간을 1시간 정도 더 잡아먹었습니다. 이거에 대한 내용도 역시 <a target="_blank" rel="noopener" href="https://discordjs.guide/creating-your-bot/command-deployment.html#command-registration">공식 사이트</a>를 참고했습니다.</p>
<h2 id="다음은…"><a href="#다음은…" class="headerlink" title="다음은…"></a>다음은…</h2><p>다음엔 진짜 VoiceStateUpdate에 따른 데이터 추출을 진행할 것입니다. 추가로 사용자가 역할을 삭제하거나 디스코드 봇이 정상 종료, 혹은 비정상 종료할 때에 대해서 데이터 추출이 어떻게 마무리 되어야 하는지 고민해보고 적절한 처리를 진행하도록 하겠습니다. 추후 설명하겠지만, 통화방 참여는 순간에 일어나는 사건이 아니라 지속적으로 기간을 갖고 일어나는 사건이므로 이러한 예외 처리가 필요한 것 같습니다. 그럼 다음에 뵙겠습니다. 좋은 하루 되세요~!</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/categories/">Category</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://github.com/rasauq1122">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0"><span class="toc-number">1.</span> <span class="toc-text">들어가며</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EC%98%A4%EB%8A%98%EC%9D%80%E2%80%A6"><span class="toc-number">2.</span> <span class="toc-text">오늘은…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%8B%A4%EC%9D%8C%EC%9D%80%E2%80%A6"><span class="toc-number">3.</span> <span class="toc-text">다음은…</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://rasauq1122.github.io/2023/02/06/HHJ-2/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&text=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&is_video=false&description=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=프로젝트 &#39;홍합찜&#39; - 2&body=Check out this article: http://rasauq1122.github.io/2023/02/06/HHJ-2/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&title=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://rasauq1122.github.io/2023/02/06/HHJ-2/&name=프로젝트 &#39;홍합찜&#39; - 2&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://rasauq1122.github.io/2023/02/06/HHJ-2/&t=프로젝트 &#39;홍합찜&#39; - 2"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2022-2023
    Junseong Park
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/rasauq1122">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothiccoding.css">




  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-81S0RLP4P2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-81S0RLP4P2');
    </script>

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
